import {CalendarMonthOutlined} from '@mui/icons-material'

import EntityHeader from '@/components/ui/EntityHeader/index.js'
import {formatDateRange} from '@/lib/format-date.js'
import {usageIcons} from '@/lib/points-prelevement.js'

const ExploitationItem = ({exploitation, children}) => (
  <EntityHeader
    title={`Exploitation - ${exploitation.id}`}
    tags={[{label: exploitation.status, severity: 'info'}]}
    metas={[
      {
        icon: CalendarMonthOutlined,
        content: formatDateRange(exploitation.startDate, exploitation.endDate)
      }
    ]}
    hrefButtons={[
      {
        label: 'Ã‰diter',
        icon: 'fr-icon-edit-line',
        href: `/exploitations/${exploitation.id}/edit`,
        requireEditor: true
      }
    ]}
    rightBadges={exploitation.usages.map(usage => (
      {label: usage, icon: usageIcons[usage]}
    ))}
  >
    {children}
  </EntityHeader>
)

export default ExploitationItem
