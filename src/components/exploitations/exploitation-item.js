import {
  AgricultureOutlined,
  CalendarMonthOutlined,
  LocalDrinkOutlined,
  LocalShippingOutlined,
  InterestsOutlined,
  LiquorOutlined,
  BoltOutlined,
  FactoryOutlined,
  DeviceThermostatOutlined,
  EditOffOutlined
} from '@mui/icons-material'

import EntityHeader from '@/components/ui/EntityHeader/index.js'
import {formatDateRange} from '@/lib/format-date.js'

const exploitationUsages = {
  'Eau potable': LocalDrinkOutlined,
  Agriculture: AgricultureOutlined,
  Autre: InterestsOutlined,
  'Camion citerne': LocalShippingOutlined,
  'Eau embouteillée': LiquorOutlined,
  Hydroélectricité: BoltOutlined,
  Industrie: FactoryOutlined,
  'non-renseignée': EditOffOutlined,
  Thermalisme: DeviceThermostatOutlined
}

const ExploitationItem = ({exploitation, children}) => (
  <EntityHeader
    title={`Exploitation - ${exploitation.id_exploitation}`}
    tags={[{label: exploitation.statut, severity: 'info'}]}
    metas={[
      {
        icon: CalendarMonthOutlined,
        content: formatDateRange(exploitation.date_debut, exploitation.date_fin)
      }
    ]}
    hrefButtons={[
      {
        label: 'Éditer',
        icon: 'fr-icon-edit-line',
        href: `/exploitations/${exploitation.id_exploitation}/edit`
      }
    ]}
    rightBadges={exploitation.usages.map(usage => (
      {label: usage, icon: exploitationUsages[usage]}
    ))}
  >
    {children}
  </EntityHeader>
)

export default ExploitationItem
